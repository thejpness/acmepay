---
import ThemeToggle from './ThemeToggle.astro';
const nav = [
  { href: '/', label: 'Overview' },
  { href: '/features', label: 'Product features' },
  { href: '/pricing', label: 'Pricing & plans' },
  { href: '/blog', label: 'Insights' },
  { href: '/about', label: 'About AcmePay' }
];
function active(href: string) {
  return Astro.url.pathname === href;
}
---

<header class="sticky top-0 z-50 pt-6">
  <div class="mx-auto max-w-7xl px-4">
    <div class="gradient-border glass surface-alt flex items-center justify-between gap-6 px-4 py-3 md:px-6 md:py-4">
      <a
        class="flex items-center gap-2 focus:outline-none focus-visible:ring-2 ring-indigo-500 rounded-md"
        href="/"
        aria-label="Go to the AcmePay homepage"
      >
        <img src="/logos/acmepay.svg" width="28" height="28" alt="AcmePay logo" class="drop-shadow-[0_0_12px_rgba(99,102,241,0.45)]" />
        <span class="font-semibold tracking-tight">AcmePay</span>
      </a>

      <nav aria-label="Primary" class="hidden md:flex items-center gap-6">
        {nav.map((n) => (
          <a
            href={n.href}
            aria-current={active(n.href) ? 'page' : undefined}
            class={`group relative pb-1 text-sm transition-colors focus-visible:outline-none focus-visible:ring-2 ring-indigo-500 rounded-md ${
              active(n.href)
                ? 'text-white'
                : 'text-white/70 hover:text-white'
            }`}
          >
            {n.label}
            <span
              class={`absolute left-0 bottom-0 h-0.5 w-full origin-left scale-x-0 rounded-full bg-gradient-to-r from-indigo-500 via-violet-500 to-fuchsia-500 transition-transform duration-300 ${
                active(n.href) ? 'scale-x-100' : 'group-hover:scale-x-100'
              }`}
            ></span>
          </a>
        ))}
      </nav>

      <div class="flex items-center gap-3">
        <a
          href="/pricing"
          class="hidden sm:inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-4 py-2 text-sm font-medium text-white/90 transition hover:border-white/30 hover:bg-white/10"
        >
          Start now
        </a>
        <ThemeToggle />
      </div>
    </div>
  </div>
</header>
