---
const { name, price, features = [], popular = false } = Astro.props as {
  name: string; price: string; features: string[]; popular?: boolean;
};
---

<article class="relative">
  <div
    class={`gradient-border rounded-[1.75rem] transition-transform duration-300 ease-out hover:-translate-y-1 focus-within:-translate-y-1 ${
      popular ? 'popular-tier' : ''
    }`}
  >
    <div class={`glass flex h-full flex-col rounded-[1.75rem] p-6 md:p-8 ${popular ? 'bg-[rgba(15,23,42,0.82)]' : ''}`}>
      {popular && (
        <span
          class="stat-pill mb-6 inline-flex text-xs uppercase tracking-[0.3em] text-white/80"
          role="note"
          aria-label="Most popular plan"
        >
          <span class="stat-dot"></span>
          Recommended plan
        </span>
      )}
      <h3 class="text-xl font-semibold">{name}</h3>
      <p class="mt-3 text-4xl font-semibold">
        {price}
        <span class="text-sm font-normal text-white/60"> /mo</span>
      </p>
      <p class="mt-2 text-sm text-white/60">Everything you need to run compliant payments operations.</p>

      <ul class="mt-6 flex flex-col gap-3 text-sm text-white/75">
        {features.map((f) => (
          <li class="flex items-start gap-3">
            <span class="mt-1 h-2.5 w-2.5 flex-shrink-0 rounded-full bg-gradient-to-r from-sky-400 to-fuchsia-500 shadow-[0_0_12px_rgba(56,189,248,0.5)]"></span>
            <span>{f}</span>
          </li>
        ))}
      </ul>

      <a
        href="/pricing"
        class="mt-8 inline-flex w-full items-center justify-center gap-2 rounded-full px-5 py-2.5 text-sm font-semibold text-white transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500"
        style="background:var(--grad-accent)"
      >
        Start now
      </a>
    </div>
  </div>
</article>
